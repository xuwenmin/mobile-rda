//     Zepto.js
//     (c) 2010-2012 Thomas Fuchs
//     Zepto.js may be freely distributed under the MIT license.

(function(e){function u(e){return"tagName"in e?e:e.parentNode}function a(e,t,n,r){var i=Math.abs(e-t),s=Math.abs(n-r);return i>=s?e-t>0?"Left":"Right":n-r>0?"Up":"Down"}function f(){o=null,t.last&&(t.el.trigger("longTap"),t={})}function l(){o&&clearTimeout(o),o=null}function c(){n&&clearTimeout(n),r&&clearTimeout(r),i&&clearTimeout(i),o&&clearTimeout(o),n=r=i=o=null,t={}}var t={},n,r,i,s=750,o;e(document).ready(function(){var h,p;e(document.body).bind("touchstart",function(r){h=Date.now(),p=h-(t.last||h),t.el=e(u(r.touches[0].target)),n&&clearTimeout(n),t.x1=r.touches[0].pageX,t.y1=r.touches[0].pageY,p>0&&p<=250&&(t.isDoubleTap=!0),t.last=h,o=setTimeout(f,s)}).bind("touchmove",function(e){l(),t.x2=e.touches[0].pageX,t.y2=e.touches[0].pageY,Math.abs(t.x1-t.x2)>10&&e.preventDefault()}).bind("touchend",function(s){l(),t.x2&&Math.abs(t.x1-t.x2)>30||t.y2&&Math.abs(t.y1-t.y2)>30?i=setTimeout(function(){t.el.trigger("swipe"),t.el.trigger("swipe"+a(t.x1,t.x2,t.y1,t.y2),t),t={}},0):"last"in t&&(r=setTimeout(function(){var r=e.Event("tap");r.cancelTouch=c,t.el.trigger(r),t.isDoubleTap?(t.el.trigger("doubleTap"),t={}):n=setTimeout(function(){n=null,t.el.trigger("singleTap"),t={}},250)},0))}).bind("touchcancel",c),e(window).bind("scroll",c)}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(t){e.fn[t]=function(e){return this.bind(t,e)}})})(Zepto);